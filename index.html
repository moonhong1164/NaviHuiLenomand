<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Navi&Hui Lenormand</title>

<style>
body{
  font-family:'Pretendard', sans-serif;
  background:#f6efff;
  margin:0; padding:0;
}

.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

h1{
  font-size:34px;
  font-weight:800;
  text-align:center;
  color:#2b1560;
}

/* ë²„íŠ¼ */
button{
  border:none;
  padding:12px 22px;
  border-radius:12px;
  margin:4px;
  font-size:17px;
  font-weight:600;
  cursor:pointer;
}

.one-btn,.three-btn,.five-btn,.cross-btn{ background:#ffffff; }
.grand-btn{ background:#c6ffcd; }

/* ê²°ê³¼ ì˜ì—­ */
#output{
  margin-top:20px;
  background:white;
  padding:18px;
  border-radius:15px;
  box-shadow:0 2px 10px rgba(0,0,0,0.08);
}

/* ì¹´ë“œ ê³µí†µ */
.card-box{
  width:120px;
  aspect-ratio:3/4;
  background:white;
  border-radius:15px;
  box-shadow:0 2px 10px rgba(0,0,0,0.15);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  margin:auto;
}

.card-box img{
  width:90%;
  height:auto;
}

/* ì‹­ì ìŠ¤í”„ë ˆë“œ ê²¹ì¹¨ í•´ê²° */
.cross-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  justify-items:center;
  align-items:center;
  max-width:100%;
}

.cross-grid .card-box{
  width:100%;
  max-width:140px;
}

/* ê·¸ë‘íƒ€ë¸”ë¡œ ì¤„ë°”ê¿ˆ */
.grand-wrapper{
  display:grid;
  grid-template-columns:repeat(9,1fr);
  gap:6px;
  margin:10px 0;
}
@media(max-width:700px){
  .grand-wrapper{ grid-template-columns:repeat(6,1fr); }
}
@media(max-width:500px){
  .grand-wrapper{ grid-template-columns:repeat(4,1fr); }
}

.hidden{display:none;}

.result-list{
  margin-top:10px;
  border-top:1px dashed #aaa;
  padding-top:8px;
}
</style>
</head>

<body>
<div class="container">
<h1>NAVI&HUI LENORMAND</h1>

<label><input type="checkbox" id="useQuestion"> ì§ˆë¬¸ ì…ë ¥</label>
<input id="questionBox" placeholder="ì§ˆë¬¸ì„ ì ì–´ ì£¼ì„¸ìš”" style="width:70%;padding:8px;border-radius:10px;border:1px solid #ddd;">
<br><br>

<button class="one-btn" onclick="drawCards(1)">1ì¹´ë“œ</button>
<button class="three-btn" onclick="drawCards(3)">3ì¹´ë“œ</button>
<button class="five-btn" onclick="drawCards(5)">5ì¹´ë“œ</button>
<button class="cross-btn" onclick="drawCross()">+ ì‹­ì</button>
<button class="grand-btn" onclick="drawGrand()">9Ã—4</button>
<button class="grand-btn" onclick="drawGrand()">8Ã—4+4</button>

<div id="output"></div>
</div>

<script>
/* âœ… ìƒˆë¡œìš´ ì¹´ë“œ ë°ì´í„° (Q1=1ë²ˆ, Q2=1ë²ˆ, Q3=ë²ˆí˜¸+ì˜ë¬¸ì½”ë“œ) */
const CARDS = [
  {num:1, code:"Rider", kr:"ê¸°ìˆ˜", key:"ì†Œì‹â€¢ì´ë™", add:"ë¹ ë¥¸ ë³€í™”Â·ì—°ë½ ë„ì°©", type:"neutral"},
  {num:2, code:"Clover", kr:"í´ë¡œë²„", key:"í–‰ìš´â€¢ê¸°íšŒ", add:"ì§§ì€ ì°¬ìŠ¤Â·ì‹œë„ ì¢‹ìŒ", type:"negative"},
  {num:3, code:"Ship", kr:"ì„ ë°•", key:"ì—¬í–‰â€¢í™•ì¥", add:"ê´€ê³„Â·í™˜ê²½ ë³€í™”", type:"neutral"},
  {num:4, code:"House", kr:"ì§‘", key:"ê°€ì •â€¢ì•ˆì •", add:"ê¸°ë°˜ ë‹¤ì§€ê¸°", type:"neutral"},
  {num:5, code:"Tree", kr:"ë‚˜ë¬´", key:"ê±´ê°•â€¢ì„±ì¥", add:"ì¥ê¸° ì„±ì¥Â·íšŒë³µ", type:"neutral"},
  {num:6, code:"Cloud", kr:"êµ¬ë¦„", key:"í˜¼ë€â€¢íŒë‹¨ ë³´ë¥˜", add:"íŒë‹¨ ë³´ë¥˜Â·ì±™ê¸°ê¸°", type:"positive"},
  {num:7, code:"Snake", kr:"ë±€", key:"ìœ í˜¹â€¢ê¸°ë§Œ", add:"ê²‰ê³¼ì† ë‹¤ë¦„Â·ì£¼ì˜", type:"positive"},
  {num:8, code:"Coffin", kr:"ê´€", key:"ëâ€¢ì „í™˜", add:"ì •ë¦¬Â·ì¬ì¶œë°œ", type:"positive"},
  {num:9, code:"Bouquet", kr:"ë¶€ì¼€", key:"ì„ ë¬¼â€¢ê¸°ì¨", add:"í˜¸ì˜ ìƒìŠ¹", type:"negative"},
  {num:10, code:"Scythe", kr:"ë‚«", key:"ë‹¨ì ˆâ€¢ê²°ì •", add:"ë¹ ë¥¸ ì„ íƒ", type:"positive"},
  {num:11, code:"Whip", kr:"ì±„ì°", key:"ê°ˆë“±â€¢ë°˜ë³µ", add:"ë£¨í”„ ëŠê¸°", type:"positive"},
  {num:12, code:"Birds", kr:"ìƒˆ", key:"ëŒ€í™”â€¢ì†Œë¬¸", add:"ë§ ë§ì€ ì‹œê¸°", type:"neutral"},
  {num:13, code:"Child", kr:"ì•„ì´", key:"ìƒˆ ì‹œì‘â€¢ìˆœìˆ˜", add:"ì‘ì§€ë§Œ ì„±ì¥ í¼", type:"negative"},
  {num:14, code:"Fox", kr:"ì—¬ìš°", key:"ì¼â€¢ì˜ì‹¬", add:"ê³„ì•½Â·ì •ë³´ ì¬í™•ì¸", type:"neutral"},
  {num:15, code:"Bear", kr:"ê³°", key:"í˜â€¢ë³´í˜¸", add:"í›„ì›Â·ë¦¬ë”ì‹­", type:"neutral"},
  {num:16, code:"Stars", kr:"ë³„", key:"í¬ë§â€¢ëª©í‘œ", add:"ë¹„ì „ ëª…í™•", type:"negative"},
  {num:17, code:"Stork", kr:"í™©ìƒˆ", key:"ë³€í™”â€¢ê°œì„ ", add:"ìŠµê´€ ì—…ë°ì´íŠ¸", type:"neutral"},
  {num:18, code:"Dog", kr:"ê°œ", key:"ì‹ ë¢°â€¢ìš°ì •", add:"ë™ë§¹Â·íŒŒíŠ¸ë„ˆì‹­", type:"negative"},
  {num:19, code:"Tower", kr:"íƒ‘", key:"ì œë„â€¢ë…ë¦½", add:"í™€ë¡œì„œê¸°", type:"neutral"},
  {num:20, code:"Garden", kr:"ì •ì›", key:"ëª¨ì„â€¢ê³µê°œ", add:"ì¢‹ì€ í‰íŒ", type:"neutral"},
  {num:21, code:"Mountain", kr:"ì‚°", key:"ì¥ì• â€¢ì§€ì—°", add:"ì‹œê°„ í•„ìš”", type:"positive"},
  {num:22, code:"Crossroad", kr:"ê°ˆë¦¼ê¸¸", key:"ì„ íƒâ€¢ê²°ì •", add:"ë°ì´í„° ë¹„êµ", type:"neutral"},
  {num:23, code:"Mice", kr:"ì¥", key:"ì†ì‹¤â€¢ì†Œëª¨", add:"ë¯¸ì„¸ëˆ„ìˆ˜ ì ê²€", type:"positive"},
  {num:24, code:"Heart", kr:"í•˜íŠ¸", key:"ì‚¬ë‘â€¢ê°ì •", add:"ê°ì • íšŒë³µ", type:"negative"},
  {num:25, code:"Ring", kr:"ë°˜ì§€", key:"ê³„ì•½â€¢ìˆœí™˜", add:"ì¥ê¸° ì»¤ë°‹", type:"negative"},
  {num:26, code:"Book", kr:"ì±…", key:"ë¹„ë°€â€¢í•™ìŠµ", add:"ì •ë³´ ë¯¸ê³µê°œ", type:"neutral"},
  {num:27, code:"Letter", kr:"í¸ì§€", key:"ì—°ë½â€¢ë¬¸ì„œ", add:"ì¦ê±°Â·í†µë³´", type:"neutral"},
  {num:28, code:"Man", kr:"ë‚¨ì„±", key:"í•µì‹¬ ì¸ë¬¼", add:"ì¤‘ì‹¬ ë‚¨ì„±", type:"neutral"},
  {num:29, code:"Woman", kr:"ì—¬ì„±", key:"í•µì‹¬ ì¸ë¬¼", add:"ì¤‘ì‹¬ ì—¬ì„±", type:"neutral"},
  {num:30, code:"Lily", kr:"ë°±í•©", key:"í‰í™”â€¢ì„±ìˆ™", add:"íœ´ì‹Â·í’ˆìœ„", type:"neutral"},
  {num:31, code:"Sun", kr:"íƒœì–‘", key:"ì„±ê³µâ€¢í™œë ¥", add:"ê¸ì • ê²°ê³¼", type:"negative"},
  {num:32, code:"Moon", kr:"ë‹¬", key:"ëª…ì˜ˆâ€¢ê°ì •", add:"ê°ì • ë¦¬ë“¬", type:"negative"},
  {num:33, code:"Key", kr:"ì—´ì‡ ", key2:"í•´ê²°â€¢ì‹œì‘", add:"ëŒíŒŒêµ¬", type:"negative"},
  {num:34, code:"Fish", kr:"ë¬¼ê³ ê¸°", key:"ì¬ë¬¼â€¢êµë¥˜", add:"ê±°ë˜ ì¦ê°€", type:"negative"},
  {num:35, code:"Anchor", kr:"ë‹»", key:"ì•ˆì •â€¢ê³ ì •", add:"ì§€ì†ì„±", type:"negative"},
  {num:36, code:"Cross", kr:"ì‹­ìê°€", key:"ê³ ë‚œâ€¢ì‹ ë…", add:"ì±…ì„Â·ë²„í‹°ê¸°", type:"positive"},
];

// ëœë¤
function pick(n){
  let arr=[...CARDS];
  let res=[];
  for(let i=0;i<n;i++){
    let r=Math.floor(Math.random()*arr.length);
    res.push(arr[r]);
    arr.splice(r,1);
  }
  return res;
}

// ì¹´ë“œ ë°•ìŠ¤ HTML
function cardHTML(c){
  let img=`<img src="cards/ë ˆë…¸ë¨¼ë“œ-${String(c.num).padStart(2,'0')}.png">`;
  let tone = (c.type==='negative')?'ğŸ”µ ê¸ì •':
             (c.type==='positive')?'ğŸ”´ ë¶€ì •':'ğŸŸ¢ ì¤‘ë¦½';
  return `
  <div class="card-box">
   ${img}
  </div>
  <div style="text-align:center;margin:4px 0;">
    <b>${c.num}. ${c.code}(${c.kr})</b><br>
    ${tone}<br>
    ${c.key}<br>
    ${c.add}
  </div>
  `;
}

/* âœ… 1/3/5ì¹´ë“œ */
function drawCards(n){
  let cards=pick(n);
  let out=`<h3>${n}ì¹´ë“œ ê²°ê³¼</h3>`;
  cards.forEach(c=> out+=cardHTML(c));
  document.getElementById("output").innerHTML=out;
}

/* âœ… ì‹­ì â€” ê²¹ì¹¨ ì—†ëŠ” ë²„ì „ */
function drawCross(){
  let c=pick(5);
  let out=`
  <h3>ì‹­ì ìŠ¤í”„ë ˆë“œ</h3>
  <div class="cross-grid">
    <div></div>
    ${cardHTML(c[0])}
    <div></div>
    ${cardHTML(c[1])}
    ${cardHTML(c[2])}
    ${cardHTML(c[3])}
    <div></div>
    ${cardHTML(c[4])}
    <div></div>
  </div>
  `;
  document.getElementById("output").innerHTML=out;
}

/* âœ… ê·¸ë‘íƒ€ë¸”ë¡œ â€” ì¤„ë°”ê¿ˆ ì •ìƒ + í´ë¦­ ì‹œ ì£¼ìœ„ì¹´ë“œ/ë‚˜ì´íŒ… */
function drawGrand(){
  let arr=pick(36);
  let out=`<h3>ê·¸ë‘íƒ€ë¸”ë¡œ (ì¹´ë“œë¥¼ ëˆŒëŸ¬ ìƒì„¸ ë³´ê¸°)</h3><div class="grand-wrapper">`;

  arr.forEach((c,i)=>{
    out+=`
    <div onclick="showGrandDetail(${i})" style="cursor:pointer;">
      <div class="card-box">
        <img src="cards/ë ˆë…¸ë¨¼ë“œ-${String(c.num).padStart(2,'0')}.png">
      </div>
      <div style="font-size:13px;text-align:center;">${c.num}. ${c.code}</div>
    </div>`;
  });

  out+=`</div><div id="grand-detail"></div>`;
  document.getElementById("output").innerHTML=out;

  window.GD=arr; // ì €ì¥
}

// í‚¤ì¹´ë“œ ìƒì„¸
function showGrandDetail(i){
  let base=window.GD;
  let kc=base[i];

  // ì£¼ìœ„ì¹´ë“œ (ê°„ë‹¨: ì•ë’¤ì¢Œìš° + ì¸ë±ìŠ¤ ì²´í¬)
  let around=[];
  if(base[i-1]) around.push(base[i-1]);
  if(base[i+1]) around.push(base[i+1]);
  if(base[i-9]) around.push(base[i-9]);
  if(base[i+9]) around.push(base[i+9]);

  // ë‚˜ì´íŒ… (â†— â†˜ â†™ â†–)
  let knight=[];
  if(base[i-8]) knight.push(base[i-8]);
  if(base[i+10]) knight.push(base[i+10]);
  if(base[i+8]) knight.push(base[i+8]);
  if(base[i-10]) knight.push(base[i-10]);

  let tone={
    negative:'ğŸ”µ ê¸ì •',
    positive:'ğŸ”´ ë¶€ì •',
    neutral :'ğŸŸ¢ ì¤‘ë¦½'
  };

  let html=`
  <h3>í‚¤ ì¹´ë“œ: ${kc.num}. ${kc.code} â€” ${kc.key}</h3>
  ${cardHTML(kc)}
  <div><b>ì£¼ìœ„ ì¹´ë“œ</b></div>
  ${around.map(c=>`${c.num}. ${c.code} â€” ${c.key} (${tone[c.type]})`).join("<br>")}
  <div style="margin-top:8px;"><b>ë‚˜ì´íŒ…</b></div>
  ${knight.map(c=>`${c.num}. ${c.code} â€” ${c.key} (${tone[c.type]})`).join("<br>")}
  `;
  document.getElementById("grand-detail").innerHTML=html;
}
</script>
</body>
</html>
