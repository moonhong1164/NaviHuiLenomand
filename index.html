<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>NABY&MOONHONG LENORMAND ORACLE</title>
  <meta name="description" content="ë ˆë…¸ë¨¼ë“œ ì¹´ë“œ ë½‘ê¸° ë° í•´ì„"/>
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#121823;
      --panel2:#0f141d;
      --text:#e8eef6;
      --muted:#9bb0c9;
      --ring:#334056;
    }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:system-ui, sans-serif;
    }
    header{
      position:sticky;top:0;
      background:rgba(10,15,22,.8);
      border-bottom:1px solid var(--ring);
      backdrop-filter:blur(8px);
      padding:14px;
      z-index:10;
    }
    h1{margin:0;font-size:20px;}
    .container{max-width:1150px;margin:0 auto;padding:16px;}

    /* ì¹´ë“œ ëª©ë¡ */
    .grid{
      display:grid;
      gap:14px;
      padding:14px;
      grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
    }
    .card{
      background:var(--panel2);
      border:1px solid var(--ring);
      border-radius:12px;
      padding:10px;
    }
    .img-box{
      width:100%;
      aspect-ratio: 3/4;
      background:#000;
      border-radius:12px;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .img-box img{
      width:100%;
      height:100%;
      object-fit:contain;
    }
    .btn{
      background:var(--panel);
      border:1px solid var(--ring);
      padding:8px 12px;
      color:var(--text);
      border-radius:10px;
      cursor:pointer;
      text-decoration:none;
      display:inline-block;
      font-size:14px;
    }
    .chip{
      padding:2px 8px;
      border:1px solid var(--ring);
      border-radius:999px;
      font-size:12px;
      background:var(--panel);
      color:var(--muted);
      margin-right:4px;
    }

    /* ë½‘ê¸° ë°•ìŠ¤ */
    .drawbox{
      background:var(--panel);
      border:1px solid var(--ring);
      border-radius:12px;
      padding:14px;
      margin-bottom:16px;
    }
    .draw-result{
      margin-top:12px;
      display:grid;
      gap:12px;
    }
    .triple{
      grid-template-columns:repeat(3,1fr);
    }
    .five{
      display:grid;
      grid-template-columns:repeat(5,minmax(120px,1fr));
      gap:10px;
      overflow-x:auto;
    }
    .card-mini{
      background:var(--panel2);
      border:1px solid var(--ring);
      border-radius:10px;
      padding:10px;
      position:relative;
    }

    /* ê¸ì •/ë¶€ì •/ì¤‘ë¦½ ìƒ‰ + ì´ëª¨ì§€ */
    .card-positive{border:2px solid #4cc3ff;}
    .card-negative{border:2px solid #ff6b6b;}
    .card-neutral{border:2px solid #2ee072;}
    .type-badge{
      position:absolute;
      top:6px;right:6px;
      padding:2px 6px;
      border-radius:999px;
      font-size:12px;
      background:rgba(0,0,0,.45);
    }
    #drawSummary{
      margin-top:12px;
      padding:10px;
      border:1px dashed var(--ring);
      border-radius:10px;
      color:var(--muted);
    }
    .hidden{display:none;}

    /* CROSS Spread (Aíƒ€ì…: 1ìœ„/3ì¤‘/5ì•„ë˜ ì‹­ì) */
    .cross-wrap{
      display:grid;
      grid-template-areas:
        ". c1 ."
        "c2 c3 c4"
        ". c5 .";
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
      max-width:400px;
      margin:0 auto;
    }
    .pos1{grid-area:c1;}
    .pos2{grid-area:c2;}
    .pos3{grid-area:c3;}
    .pos4{grid-area:c4;}
    .pos5{grid-area:c5;}
  </style>
</head>

<body>
<header><h1>NABY LENORMAND ORACLE</h1></header>

<div class="container">

  <section class="drawbox">
    <div class="draw-actions" style="display:flex;flex-wrap:wrap;gap:10px;align-items:center">
      <label class="chip"><input id="toggleQ" type="checkbox"> ì§ˆë¬¸ ì…ë ¥</label>
      <input id="inputQ" type="text"
        placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ)"
        style="width:100%;margin:8px 0;display:none;padding:10px;
               border-radius:10px;border:1px solid var(--ring);
               background:var(--panel2);color:var(--text)">

      <button class="btn" id="btn1">ğŸƒ 1ì¹´ë“œ</button>
      <button class="btn" id="btn3">ğŸƒğŸƒğŸƒ 3ì¹´ë“œ</button>
      <button class="btn" id="btn5">ğŸƒğŸƒğŸƒğŸƒğŸƒ 5ì¹´ë“œ</button>
      <button class="btn" id="btnCross">âœš ì‹­ì ìŠ¤í”„ë ˆë“œ</button>
      <button class="btn" id="btnGT94">ğŸ§© 9Ã—4</button>
      <button class="btn" id="btnGT84">ğŸ§© 8Ã—4ï¼‹4</button>
    </div>

    <div id="qBox" style="margin-top:6px;color:var(--muted)"></div>
    <div id="drawArea" class="draw-result"></div>
    <div id="drawSummary" class="hidden"></div>
  </section>

  <button class="btn" id="toggleList">ğŸ“‚ ì¹´ë“œ ì „ì²´ ë³´ê¸°</button>
  <input type="search" id="search"
     placeholder="ì¹´ë“œ ì´ë¦„/ë²ˆí˜¸ ê²€ìƒ‰"
     style="width:100%;padding:10px;margin:10px 0;border-radius:10px;
            border:1px solid var(--ring);background:var(--panel2);color:var(--text)">
  
  <div id="grid" class="grid" style="display:none"></div>

</div>

<script>
/* ì´ë¯¸ì§€ ê²½ë¡œ ìë™(01~09 ëŒ€ì‘) */
function imgPath(num){
  const n = num < 10 ? `0${num}` : num;
  return `images/ë ˆë…¸ë¨¼ë“œ-${n}.png`;
}

/* ì¹´ë“œ ë°ì´í„° */
const CARDS = [
  {num:1, code:"Rider", kr:"ê¸°ìˆ˜", key:"ì†Œì‹â€¢ì´ë™", add:"ë¹ ë¥¸ ë³€í™”Â·ì—°ë½ ë„ì°©", type:"positive"},
  {num:2, code:"Clover", kr:"í´ë¡œë²„", key:"í–‰ìš´â€¢ê¸°íšŒ", add:"ì§§ì€ ì°¬ìŠ¤Â·ì‹œë„ ì¢‹ìŒ", type:"positive"},
  {num:3, code:"Ship", kr:"ì„ ë°•", key:"ì—¬í–‰â€¢í™•ì¥", add:"ê´€ê³„Â·í™˜ê²½ ë³€í™”", type:"neutral"},
  {num:4, code:"House", kr:"ì§‘", key:"ê°€ì •â€¢ì•ˆì •", add:"ê¸°ë°˜ ë‹¤ì§€ê¸°", type:"neutral"},
  {num:5, code:"Tree", kr:"ë‚˜ë¬´", key:"ê±´ê°•â€¢ì„±ì¥", add:"ì¥ê¸° ì„±ì¥Â·íšŒë³µ", type:"positive"},
  {num:6, code:"Cloud", kr:"êµ¬ë¦„", key:"í˜¼ë€â€¢ë¶ˆí™•ì‹¤", add:"íŒë‹¨ ë³´ë¥˜Â·ì±™ê¸°ê¸°", type:"negative"},
  {num:7, code:"Snake", kr:"ë±€", key:"ìœ í˜¹â€¢ê¸°ë§Œ", add:"ê²‰ê³¼ì† ë‹¤ë¦„Â·ì£¼ì˜", type:"negative"},
  {num:8, code:"Coffin", kr:"ê´€", key:"ëâ€¢ì „í™˜", add:"ì •ë¦¬Â·ì¬ì¶œë°œ", type:"negative"},
  {num:9, code:"Bouquet", kr:"ë¶€ì¼€", key:"ì„ ë¬¼â€¢ê¸°ì¨", add:"í˜¸ì˜ ìƒìŠ¹", type:"positive"},
  {num:10, code:"Scythe", kr:"ë‚«", key:"ë‹¨ì ˆâ€¢ê²°ì •", add:"ë¹ ë¥¸ ì„ íƒ", type:"negative"},
  {num:11, code:"Whip", kr:"ì±„ì°", key:"ê°ˆë“±â€¢ë°˜ë³µ", add:"ë£¨í”„ ëŠê¸°", type:"negative"},
  {num:12, code:"Bird", kr:"ìƒˆ", key:"ëŒ€í™”â€¢ì†Œë¬¸", add:"ë§ ë§ì€ ì‹œê¸°", type:"neutral"},
  {num:13, code:"Child", kr:"ì•„ì´", key:"ìƒˆ ì‹œì‘â€¢ìˆœìˆ˜", add:"ì‘ì§€ë§Œ ì„±ì¥ í¼", type:"positive"},
  {num:14, code:"Fox", kr:"ì—¬ìš°", key:"ì¼â€¢ì˜ì‹¬", add:"ê³„ì•½Â·ì •ë³´ ì¬í™•ì¸", type:"neutral"},
  {num:15, code:"Bear", kr:"ê³°", key:"í˜â€¢ë³´í˜¸", add:"í›„ì›Â·ë¦¬ë”ì‹­", type:"positive"},
  {num:16, code:"Stars", kr:"ë³„", key:"í¬ë§â€¢ëª©í‘œ", add:"ë¹„ì „ ëª…í™•", type:"positive"},
  {num:17, code:"Stork", kr:"í™©ìƒˆ", key:"ë³€í™”â€¢ê°œì„ ", add:"ìŠµê´€ ì—…ë°ì´íŠ¸", type:"positive"},
  {num:18, code:"Dog", kr:"ê°œ", key:"ì‹ ë¢°â€¢ìš°ì •", add:"ë™ë§¹Â·íŒŒíŠ¸ë„ˆì‹­", type:"positive"},
  {num:19, code:"Tower", kr:"íƒ‘", key:"ì œë„â€¢ë…ë¦½", add:"í™€ë¡œì„œê¸°", type:"neutral"},
  {num:20, code:"Garden", kr:"ì •ì›", key:"ëª¨ì„â€¢ê³µê°œ", add:"ì¢‹ì€ í‰íŒ", type:"positive"},
  {num:21, code:"Mountain", kr:"ì‚°", key:"ì¥ì• â€¢ì§€ì—°", add:"ì‹œê°„ í•„ìš”", type:"negative"},
  {num:22, code:"Crossroad", kr:"ê°ˆë¦¼ê¸¸", key:"ì„ íƒâ€¢ê²°ì •", add:"ë°ì´í„° ë¹„êµ", type:"neutral"},
  {num:23, code:"Mice", kr:"ì¥", key:"ì†ì‹¤â€¢ì†Œëª¨", add:"ë¯¸ì„¸ëˆ„ìˆ˜ ì ê²€", type:"negative"},
  {num:24, code:"Heart", kr:"í•˜íŠ¸", key:"ì‚¬ë‘â€¢ê°ì •", add:"ê°ì • íšŒë³µ", type:"positive"},
  {num:25, code:"Ring", kr:"ë°˜ì§€", key:"ê³„ì•½â€¢ìˆœí™˜", add:"ì¥ê¸° ì»¤ë°‹", type:"neutral"},
  {num:26, code:"Book", kr:"ì±…", key:"ë¹„ë°€â€¢í•™ìŠµ", add:"ì •ë³´ ë¯¸ê³µê°œ", type:"neutral"},
  {num:27, code:"Letter", kr:"í¸ì§€", key:"ì—°ë½â€¢ë¬¸ì„œ", add:"ì¦ê±°Â·í†µë³´", type:"positive"},
  {num:28, code:"Man", kr:"ë‚¨ì„±", key:"í•µì‹¬ ì¸ë¬¼", add:"ì¤‘ì‹¬ ë‚¨ì„±", type:"neutral"},
  {num:29, code:"Woman", kr:"ì—¬ì„±", key:"í•µì‹¬ ì¸ë¬¼", add:"ì¤‘ì‹¬ ì—¬ì„±", type:"neutral"},
  {num:30, code:"Lily", kr:"ë°±í•©", key:"í‰í™”â€¢ì„±ìˆ™", add:"íœ´ì‹Â·í’ˆìœ„", type:"positive"},
  {num:31, code:"Sun", kr:"íƒœì–‘", key:"ì„±ê³µâ€¢í™œë ¥", add:"ê¸ì • ê²°ê³¼", type:"positive"},
  {num:32, code:"Moon", kr:"ë‹¬", key:"ëª…ì˜ˆâ€¢ê°ì •", add:"ê°ì • ë¦¬ë“¬", type:"positive"},
  {num:33, code:"Key", kr:"ì—´ì‡ ", key:"í•´ê²°â€¢ì •ë‹µ", add:"ëŒíŒŒêµ¬", type:"positive"},
  {num:34, code:"Fish", kr:"ë¬¼ê³ ê¸°", key:"ì¬ë¬¼â€¢êµë¥˜", add:"ê±°ë˜ ì¦ê°€", type:"neutral"},
  {num:35, code:"Anchor", kr:"ë‹»", key:"ì•ˆì •â€¢ê³ ì •", add:"ì§€ì†ì„±", type:"neutral"},
  {num:36, code:"Cross", kr:"ì‹­ìê°€", key:"ê³ ë‚œâ€¢ì‹ ë…", add:"ì±…ì„Â·ë²„í‹°ê¸°", type:"negative"},
];

/* ëª©ë¡ ë Œë” */
const grid=document.getElementById("grid");
function loadList(list){
  grid.innerHTML="";
  list.forEach(c=>{
    let div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <div class="img-box"><img src="${imgPath(c.num)}"></div>
      <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
      <p>${c.key}</p>
    `;
    grid.appendChild(div);
  });
}
loadList(CARDS);

/* ëª©ë¡ í¼ì¹˜ê¸° */
const toggleList=document.getElementById("toggleList");
let open=false;
toggleList.onclick=()=>{
  open=!open;
  grid.style.display=open?"grid":"none";
  toggleList.textContent=open?"ğŸ“ ì¹´ë“œ ì ‘ê¸°":"ğŸ“‚ ì¹´ë“œ ì „ì²´ ë³´ê¸°";
};

/* ê²€ìƒ‰ */
document.getElementById("search").oninput=e=>{
  const v=e.target.value.toLowerCase();
  loadList(CARDS.filter(c=>
    c.code.toLowerCase().includes(v) ||
    c.kr.includes(v) ||
    (c.num+"").includes(v)
  ));
};

/* ì§ˆë¬¸ ì…ë ¥ í‘œì‹œ */
const toggleQ=document.getElementById("toggleQ");
const inputQ=document.getElementById("inputQ");
const qBox=document.getElementById("qBox");
toggleQ.onchange=()=>{
  inputQ.style.display = toggleQ.checked ? "block":"none";
  if(!toggleQ.checked){ inputQ.value=""; qBox.innerHTML=""; }
};

/* ì¹´ë“œ ë½‘ê¸° */
const drawArea=document.getElementById("drawArea");
function pick(n){
  const arr=[]; for(let i=0;i<n;i++){ arr.push(CARDS[Math.floor(Math.random()*CARDS.length)]); }

  if(toggleQ.checked && inputQ.value.trim()){
    qBox.textContent="ì§ˆë¬¸: "+inputQ.value.trim();
  } else qBox.textContent="";

  drawArea.classList.remove("triple","five");
  document.getElementById("drawSummary").classList.add("hidden");

  if(n===3) drawArea.classList.add("triple");
  if(n===5) drawArea.classList.add("five");

  drawArea.innerHTML="";
  const typeClass=t=> t==='positive'?'card-positive':(t==='negative'?'card-negative':'card-neutral');
  const typeEmoji=t=> t==='positive'?'ğŸ”µ':(t==='negative'?'ğŸ”´':'ğŸŸ¢');

  arr.forEach(c=>{
    const el=document.createElement("article");
    el.className="card-mini";
    if(n===5) el.classList.add(typeClass(c.type));
    el.innerHTML=`
      ${n===5?`<span class="type-badge">${typeEmoji(c.type)}</span>`:''}
      <div class="img-box"><img src="${imgPath(c.num)}"></div>
      <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
      <p><em>${c.key}</em> â€” ${c.add}</p>
    `;
    drawArea.appendChild(el);
  });

  if(n===5){
    const pos=arr.filter(c=>c.type==='positive').length;
    const neg=arr.filter(c=>c.type==='negative').length;
    const neu=arr.filter(c=>c.type==='neutral').length;
    const mood = pos>neg ? "ì „ë°˜ì ìœ¼ë¡œ **ìš°í˜¸ì  íë¦„**"
               : neg>pos ? "ì „ë°˜ì ìœ¼ë¡œ **ì‹ ì¤‘/ë³´ìˆ˜ì  íë¦„**"
               : "**ê· í˜•/ì¤‘ë¦½ íë¦„**";
    const sumEl=document.getElementById("drawSummary");
    sumEl.innerHTML=`ğŸ” ì´í‰ â€” ğŸ”µ ${pos} Â· ğŸ”´ ${neg} Â· ğŸŸ¢ ${neu}<br>${mood}ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.`;
    sumEl.classList.remove("hidden");
  }
}

/* ë²„íŠ¼ */
document.getElementById("btn1").onclick=()=>pick(1);
document.getElementById("btn3").onclick=()=>pick(3);
document.getElementById("btn5").onclick=()=>pick(5);

/* ì‹­ì ìŠ¤í”„ë ˆë“œ */
const btnCross=document.getElementById("btnCross");
if(btnCross){
  btnCross.onclick=()=>{
    const picked=[];
    for(let i=0;i<5;i++){
      picked.push(CARDS[Math.floor(Math.random()*CARDS.length)]);
    }
    drawArea.classList.remove("triple","five");
    drawArea.innerHTML="";
    document.getElementById("drawSummary").classList.add("hidden");

    const roles=["í˜„ì¬/í•µì‹¬","ì¥ì• ","ë³¸ì§ˆ","ì¡°ì–¸","ê²°ê³¼"];
    let html=`<div class="cross-wrap">`;
    picked.forEach((c,i)=>{
      html+=`
      <div class="card-mini pos${i+1}">
        <div class="img-box"><img src="${imgPath(c.num)}"></div>
        <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
        <p><em>${roles[i]}</em> â€” ${c.key}, ${c.add}</p>
      </div>`;
    });
    html+=`</div>`;
    drawArea.innerHTML=html;
  };
}

/* ê·¸ë‘ë”°ë¸”ë¡œ */
const btnGT94=document.getElementById("btnGT94");
const btnGT84=document.getElementById("btnGT84");
const byNum=new Map(CARDS.map(c=>[c.num,c]));
function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;}

function renderGT94(){
  const order=shuffle([...Array(36)].map((_,i)=>i+1));
  drawArea.classList.remove("triple","five");
  document.getElementById("drawSummary").classList.add("hidden");

  const cells=order.map(num=>{
    const c=byNum.get(num);
    return `
      <div class="card-mini">
        <div class="img-box"><img src="${imgPath(c.num)}"></div>
        <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
      </div>`;
  }).join("");

  drawArea.innerHTML=`<div style="display:grid;gap:8px;grid-template-columns:repeat(9,1fr)">${cells}</div>`;
}
function renderGT84(){
  const order=shuffle([...Array(36)].map((_,i)=>i+1));
  drawArea.classList.remove("triple","five");
  document.getElementById("drawSummary").classList.add("hidden");

  const top32=order.slice(0,32).map(num=>{
    const c=byNum.get(num);
    return `
      <div class="card-mini">
        <div class="img-box"><img src="${imgPath(c.num)}"></div>
        <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
      </div>`;
  }).join("");

  const last4=order.slice(32).map(num=>{
    const c=byNum.get(num);
    return `
      <div class="card-mini">
        <div class="img-box"><img src="${imgPath(c.num)}"></div>
        <p><strong>${c.num}. ${c.code}</strong> (${c.kr})</p>
      </div>`;
  }).join("");

  drawArea.innerHTML=
    `<div style="display:grid;gap:8px;grid-template-columns:repeat(8,1fr)">${top32}</div>
     <div style="display:grid;gap:8px;grid-template-columns:repeat(4,1fr);max-width:700px;margin:0 auto">${last4}</div>`;
}

if(btnGT94) btnGT94.onclick=renderGT94;
if(btnGT84) btnGT84.onclick=renderGT84;

</script>

<footer class="container" style="color:var(--muted);padding:40px 16px;text-align:center;border-top:1px solid var(--ring)">
  ìë£Œ ì¶œì²˜: NABY LENORMAND ORACLE CARD<br>
  ì œì‘ : ë‚˜ë¹„ğŸ¦‹, ì›”í™ğŸŒ™
</footer>

</body>
</html>
